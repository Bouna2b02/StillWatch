import{_ as w}from"./TheTopNav.ab2d8892.js";import{_ as $,a as S}from"./ListingCarousel.77db81ad.js";import{_ as E,a as M,b as X}from"./Images.b79fa7b0.js";import{P as T,n as L,l as z,N as I,m as O,y as W,o as B,d as j,p as q}from"./tmdbAPI.f1c79019.js";import{_ as v,s as g,o as n,c as a,a as o,u as i,n as u,q as r,t as c,b as _,d as F,x as A,y as G,F as h,v as f}from"./entry.b94904b0.js";import{_ as N,a as C}from"./Videos.509696d6.js";import"./chevron-left.d64a7219.js";import"./nuxt-link.4b690bdb.js";import"./Modal.80d2d93e.js";import"./cross.1fce9c4e.js";import"./twitter.ae5f1f4d.js";const U="640px",J="768px",K="1024px",Q="1200px",Y="1400px",Z="1500px",ee="1800px",te="2500px",se="10rem",ie="_info_11ty2_14",ne="_left_11ty2_19",oe="_right_11ty2_37",ae="_poster_11ty2_42",re="_overview_11ty2_51",le="_title_11ty2_63",me="_stats_11ty2_75",de="_label_11ty2_110",ce="_value_11ty2_122",ue="_external_11ty2_126",pe={breakpointXsmall:U,breakpointSmall:J,breakpointMedium:K,breakpointLarge:Q,breakpointXlarge:Y,breakpointXlarger1:Z,breakpointXlarger2:ee,breakpointXlarger3:te,layoutNavWidth:se,info:ie,left:ne,right:oe,poster:ae,overview:re,title:le,stats:me,label:de,value:ce,external:ue},_e={components:{ExternalLinks:E,PlaceholderIcon:T},mixins:[L,z],props:{item:{type:Object,required:!0}},computed:{poster(){return this.item.poster_path}},created(){this.item.homepage&&(this.item.external_ids.homepage=this.item.homepage)},methods:{formatGenres(e){return e.map(s=>`<a href="/genre/${s.id}/tv">${s.name}</a>`).join(", ")},formatRunTime(e){return e.map(s=>`${s}m`).join(", ")}}},he=["innerHTML"],ve={class:"nolist"},ge={key:0},ye={key:1},ke={key:2},be={key:3},fe=["innerHTML"],we={key:4},$e=["innerHTML"],Se={key:5},Ee={key:6},Me={key:7},Xe={key:8},Te={key:9};function Le(e,s,t,y,d,l){const p=I,m=g("PlaceholderIcon"),k=E;return n(),a("div",{class:i(["spacing",e.$style.info])},[o("div",{class:i(e.$style.left)},[o("div",{class:i(e.$style.poster)},[l.poster?(n(),u(p,{key:0,width:"370",height:"556",sizes:"large:20vw xlarge:20vw xlarge1:18vw xlarge3:780",alt:e.name,src:l.poster},null,8,["alt","src"])):(n(),u(m,{key:1}))],2)],2),o("div",{class:i(e.$style.right)},[t.item.overview?(n(),a("div",{key:0,class:i(e.$style.overview)},[o("h2",{class:i(e.$style.title)}," Storyline ",2),o("div",{innerHTML:t.item.overview},null,8,he)],2)):r("",!0),o("div",{class:i(e.$style.stats)},[o("ul",ve,[t.item.first_air_date?(n(),a("li",ge,[o("div",{class:i(e.$style.label)}," First Aired ",2),o("div",{class:i(e.$style.value)},c(t.item.first_air_date|e.fullDate),3)])):r("",!0),t.item.last_air_date?(n(),a("li",ye,[o("div",{class:i(e.$style.label)}," Last Aired ",2),o("div",{class:i(e.$style.value)},c(t.item.last_air_date|e.fullDate),3)])):r("",!0),t.item.episode_run_time&&t.item.episode_run_time.length?(n(),a("li",ke,[o("div",{class:i(e.$style.label)}," Runtime ",2),o("div",{class:i(e.$style.value)},c(l.formatRunTime(t.item.episode_run_time)),3)])):r("",!0),e.creators?(n(),a("li",be,[o("div",{class:i(e.$style.label)}," Creator ",2),o("div",{class:i(e.$style.value),innerHTML:e.creators},null,10,fe)])):r("",!0),t.item.genres&&t.item.genres.length?(n(),a("li",we,[o("div",{class:i(e.$style.label)}," Genre ",2),o("div",{class:i(e.$style.value),innerHTML:l.formatGenres(t.item.genres)},null,10,$e)])):r("",!0),t.item.number_of_seasons?(n(),a("li",Se,[o("div",{class:i(e.$style.label)}," Seasons ",2),o("div",{class:i(e.$style.value)},c(t.item.number_of_seasons),3)])):r("",!0),t.item.number_of_episodes?(n(),a("li",Ee,[o("div",{class:i(e.$style.label)}," Episodes ",2),o("div",{class:i(e.$style.value)},c(t.item.number_of_episodes),3)])):r("",!0),t.item.status?(n(),a("li",Me,[o("div",{class:i(e.$style.label)}," Status ",2),o("div",{class:i(e.$style.value)},c(t.item.status),3)])):r("",!0),t.item.original_language?(n(),a("li",Xe,[o("div",{class:i(e.$style.label)}," Language ",2),o("div",{class:i(e.$style.value)},c(t.item.original_language|e.fullLang),3)])):r("",!0),t.item.networks&&t.item.networks.length?(n(),a("li",Te,[o("div",{class:i(e.$style.label)}," Network ",2),o("div",{class:i(e.$style.value)},c(t.item.networks|e.arrayToList),3)])):r("",!0)])],2),o("div",{class:i(e.$style.external)},[_(k,{links:t.item.external_ids},null,8,["links"])],2)],2)],2)}const Ie={$style:pe},D=v(_e,[["render",Le],["__cssModules",Ie]]),Ne="640px",Ce="768px",De="1024px",Ve="1200px",Pe="1400px",He="1500px",Re="1800px",xe="2500px",ze="10rem",Oe="_item_19mp5_13",We="_image_19mp5_46",Be="_name_19mp5_55",je="_overview_19mp5_64",qe="_aired_19mp5_71",Fe={breakpointXsmall:Ne,breakpointSmall:Ce,breakpointMedium:De,breakpointLarge:Ve,breakpointXlarge:Pe,breakpointXlarger1:He,breakpointXlarger2:Re,breakpointXlarger3:xe,layoutNavWidth:ze,item:Oe,image:We,name:Be,overview:je,aired:qe},Ae={components:{PlaceholderIcon:T},props:{episode:{type:Object,required:!0}},computed:{poster(){return this.episode.still_path}}};function Ge(e,s,t,y,d,l){const p=I,m=g("PlaceholderIcon");return n(),a("div",{class:i(e.$style.item)},[o("div",{class:i(e.$style.image)},[l.poster?(n(),u(p,{key:0,loading:"lazy",width:"400",height:"225",sizes:"xsmall:93vw small:46vw medium:45vw large:30vw xlarge:28vw xlarge1:21vw xlarge3:780",alt:t.episode.name,src:l.poster},null,8,["alt","src"])):(n(),u(m,{key:1}))],2),o("h2",{class:i(e.$style.name)},[o("strong",null,"E"+c(t.episode.episode_number|e.numberWithDoubleDigits),1),F(" "+c(t.episode.name),1)],2),o("div",{class:i(e.$style.overview)},c(t.episode.overview|e.truncate(300)),3),t.episode.air_date?(n(),a("div",{key:0,class:i(e.$style.aired)},c(t.episode.air_date|e.fullDate),3)):r("",!0)],2)}const Ue={$style:Fe},Je=v(Ae,[["render",Ge],["__cssModules",Ue]]),Ke="640px",Qe="768px",Ye="1024px",Ze="1200px",et="1400px",tt="1500px",st="1800px",it="2500px",nt="10rem",ot="_head_1w9zh_13",at="_count_1w9zh_27",rt="_items_1w9zh_38",lt={breakpointXsmall:Ke,breakpointSmall:Qe,breakpointMedium:Ye,breakpointLarge:Ze,breakpointXlarge:et,breakpointXlarger1:tt,breakpointXlarger2:st,breakpointXlarger3:it,layoutNavWidth:nt,head:ot,count:at,items:rt},mt={components:{EpisodesItem:Je},props:{numberOfSeasons:{type:Number,required:!0}},data(){return{activeSeason:this.numberOfSeasons,activeEpisodes:null}},computed:{episodeCount(){return`${this.activeEpisodes.length} ${this.activeEpisodes.length>1?"Episodes":"Episode"}`},seasons(){const e=[];for(let s=0;s<this.numberOfSeasons;s++)e.push({season:s+1,episodes:null});return e.sort((s,t)=>s.season>t.season?-1:1),e}},mounted(){this.getEpisodes()},methods:{getEpisodes(){const e=this.seasons.find(s=>s.season===this.activeSeason);e.episodes?this.activeEpisodes=e.episodes:O(this.$route.params.id,this.activeSeason).then(s=>{e.episodes=s.episodes,this.activeEpisodes=e.episodes})}}},dt={class:"spacing"},ct=["value"];function ut(e,s,t,y,d,l){const p=g("EpisodesItem");return n(),a("div",dt,[o("div",{class:i(e.$style.head)},[l.seasons.length>1?A((n(),a("select",{key:0,"onUpdate:modelValue":s[0]||(s[0]=m=>d.activeSeason=m),onChange:s[1]||(s[1]=(...m)=>l.getEpisodes&&l.getEpisodes(...m))},[(n(!0),a(h,null,f(l.seasons,m=>(n(),a("option",{key:`season-${m.season}`,value:m.season}," Season "+c(m.season),9,ct))),128))],544)),[[G,d.activeSeason]]):r("",!0),d.activeEpisodes?(n(),a("strong",{key:1,class:i(e.$style.count)},c(l.episodeCount),3)):r("",!0)],2),d.activeEpisodes?(n(),a("div",{key:0,class:i(e.$style.items)},[(n(!0),a(h,null,f(d.activeEpisodes,m=>(n(),u(p,{key:`episode-${m.id}`,episode:m},null,8,["episode"]))),128))],2)):r("",!0)])}const pt={$style:lt},_t=v(mt,[["render",ut],["__cssModules",pt]]),ht={components:{TheTopNav:w,Hero:$,MediaNav:M,TvInfo:D,Videos:N,Images:X,Credits:C,Episodes:_t,ListingCarousel:S},mixins:[L,W,B],async asyncData({params:e,error:s}){try{const t=await j(e.id);if(t.adult)s({message:"This tv show is not available"});else return{item:t}}catch{s({message:"Page not found"})}},data(){return{menu:[],activeMenu:"overview",recommendedItems:null}},head(){return{title:this.metaTitle,meta:[{hid:"og:title",property:"og:title",content:this.metaTitle},{hid:"og:description",property:"og:description",content:this.metaDescription},{hid:"description",name:"description",content:this.metaDescription},{hid:"og:image",property:"og:image",content:this.metaImage},{hid:"og:url",property:"og:url",content:`${{}.FRONTEND_URL}${this.$route.path}`}],bodyAttrs:{class:"topnav-active"}}},computed:{metaTitle(){return this.item.status==="Ended"&&this.yearStart&&this.yearEnd?`${this.name} (TV Series ${this.yearStart}-${this.yearEnd})`:this.yearStart?`${this.name} (TV Series ${this.yearStart}-)`:`${this.name} (TV Series)`},metaDescription(){return this.item.overview?this.truncate(this.item.overview,200):""},metaImage(){return this.item.poster_path?this.$img(this.item.poster_path,{width:500}):""},creditsShown(){var s;const e=this.item.credits;return(s=e==null?void 0:e.cast)==null?void 0:s.length},episodesShown(){return this.item.number_of_seasons},videosShown(){var s;const e=this.item.videos;return(s=e==null?void 0:e.results)==null?void 0:s.length},imagesShown(){var s,t;const e=this.item.images;return((s=e==null?void 0:e.backdrops)==null?void 0:s.length)||((t=e==null?void 0:e.posters)==null?void 0:t.length)},recommendedItemsShown(){var e;return(e=this.recommendedItems)==null?void 0:e.results.length}},created(){this.createMenu(),this.initRecommended()},methods:{truncate(e,s){return this.$options.filters.truncate(e,s)},createMenu(){const e=[];e.push("Overview"),this.episodesShown&&e.push("Episodes"),this.videosShown&&e.push("Videos"),this.imagesShown&&e.push("Photos"),this.menu=e},navClicked(e){this.activeMenu=e},initRecommended(){this.recommendedItems===null&&q(this.$route.params.id).then(e=>{this.recommendedItems=e})}}},vt={class:"main"};function gt(e,s,t,y,d,l){const p=w,m=$,k=M,V=D,P=C,H=g("Episodes"),R=N,b=X,x=S;return n(),a("main",vt,[_(p,{title:l.metaTitle},null,8,["title"]),_(m,{item:e.item},null,8,["item"]),_(k,{menu:d.menu,onClicked:l.navClicked},null,8,["menu","onClicked"]),d.activeMenu==="overview"?(n(),a(h,{key:0},[_(V,{item:e.item},null,8,["item"]),l.creditsShown?(n(),u(P,{key:0,people:e.item.credits.cast},null,8,["people"])):r("",!0)],64)):r("",!0),d.activeMenu==="episodes"&&l.episodesShown?(n(),u(H,{key:1,"number-of-seasons":e.item.number_of_seasons},null,8,["number-of-seasons"])):r("",!0),d.activeMenu==="videos"&&l.videosShown?(n(),u(R,{key:2,videos:e.item.videos.results},null,8,["videos"])):r("",!0),d.activeMenu==="photos"&&l.imagesShown?(n(),a(h,{key:3},[e.item.images.backdrops.length?(n(),u(b,{key:0,title:"Backdrops",type:"backdrop",images:e.item.images.backdrops},null,8,["images"])):r("",!0),e.item.images.posters.length?(n(),u(b,{key:1,title:"Posters",type:"poster",images:e.item.images.posters},null,8,["images"])):r("",!0)],64)):r("",!0),l.recommendedItemsShown?(n(),u(x,{key:4,title:"More Like This",items:d.recommendedItems},null,8,["items"])):r("",!0)])}const Lt=v(ht,[["render",gt]]);export{Lt as default};
