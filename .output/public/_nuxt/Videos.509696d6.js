import{P as I,N as $,q as M}from"./tmdbAPI.f1c79019.js";import{_ as V}from"./nuxt-link.4b690bdb.js";import{_ as b,s as g,o as n,c as r,b as y,w as X,a as o,n as u,t as p,z as S,F as k,v as f,q as v,u as l,A as T,x as N,y as L}from"./entry.b94904b0.js";import{c as A,C as z}from"./ListingCarousel.77db81ad.js";import{C as E}from"./chevron-left.d64a7219.js";import{C as P,_ as x}from"./Modal.80d2d93e.js";const B={components:{PlaceholderIcon:I},props:{person:{type:Object,required:!0}},computed:{poster(){return this.person.profile_path}}},q={class:"credits-item"},D={class:"credits-item__img"},O={class:"credits-item__name"},U={class:"credits-item__character"};function j(e,t,s,h,c,a){const _=$,m=g("PlaceholderIcon"),i=V;return n(),r("div",q,[y(i,{class:"credits-item__link",to:{name:"person-id",params:{id:s.person.id}}},{default:X(()=>[o("div",D,[a.poster?(n(),u(_,{key:0,loading:"lazy",width:"370",height:"556",sizes:"xsmall:29vw small:29vw medium:17vw large:14vw xlarge:13vw xlarge1:11vw xlarge2:12vw xlarge3:342",alt:s.person.name,src:a.poster},null,8,["alt","src"])):(n(),u(m,{key:1}))]),o("h2",O,p(s.person.name),1),o("div",U,p(s.person.character),1)]),_:1},8,["to"])])}const C=b(B,[["render",j]]),H={components:{CreditsItem:C,ChevronLeftIcon:E,ChevronRightIcon:P},mixins:[A],props:{people:{type:Array,required:!0}},mounted(){this.calculateState(this.people.length)},methods:{resizeEvent:S(function(){this.calculateState(this.people.length)},100)}},R={key:0,class:"listing listing--carousel"},W=o("div",{class:"listing__head"},[o("h2",{class:"listing__title"}," Cast ")],-1),Y={class:"carousel"},F=["disabled"],Q=["disabled"];function G(e,t,s,h,c,a){const _=g("ChevronLeftIcon"),m=C,i=g("ChevronRightIcon");return s.people&&s.people.length?(n(),r("div",R,[W,o("div",Y,[o("button",{class:"carousel__nav carousel__nav--left","aria-label":"Previous",type:"button",disabled:e.disableLeftButton,onClick:t[0]||(t[0]=d=>e.moveToClickEvent("left"))},[y(_)],8,F),o("div",{ref:"carouselElement",class:"carousel__items",onScroll:t[1]||(t[1]=(...d)=>e.scrollEvent&&e.scrollEvent(...d))},[(n(!0),r(k,null,f(s.people,d=>(n(),u(m,{key:`credit-${d.id}`,person:d},null,8,["person"]))),128))],544),o("button",{class:"carousel__nav carousel__nav--right","aria-label":"Next",type:"button",disabled:e.disableRightButton,onClick:t[2]||(t[2]=d=>e.moveToClickEvent("right"))},[y(i)],8,Q)])])):v("",!0)}const He=b(H,[["render",G]]),J="640px",K="768px",Z="1024px",ee="1200px",te="1400px",se="1500px",oe="1800px",ne="2500px",ie="10rem",ae="_item_1el7r_13",le="_link_1el7r_45",re="_image_1el7r_51",ce="_play_1el7r_64",de="_duration_1el7r_71",_e="_name_1el7r_80",me="_type_1el7r_93",pe={breakpointXsmall:J,breakpointSmall:K,breakpointMedium:Z,breakpointLarge:ee,breakpointXlarge:te,breakpointXlarger1:se,breakpointXlarger2:oe,breakpointXlarger3:ne,layoutNavWidth:ie,item:ae,link:le,image:re,play:ce,duration:de,name:_e,type:me},ue={components:{CirclePlayIcon:z},props:{video:{type:Object,required:!0},index:{type:Number,required:!0}},methods:{handleVideo(e){this.$emit("openModal",e)},getSeconds(e){let t=e.match(/\d+/g);return e.includes("M")&&!e.includes("H")&&!e.includes("S")&&(t=[0,t[0],0]),e.includes("H")&&!e.includes("M")&&(t=[t[0],0,t[1]]),e.includes("H")&&!e.includes("M")&&!e.includes("S")&&(t=[t[0],0,0]),e=0,t.length===3&&(e=e+parseInt(t[0])*3600,e=e+parseInt(t[1])*60,e=e+parseInt(t[2])),t.length===2&&(e=e+parseInt(t[0])*60,e=e+parseInt(t[1])),t.length===1&&(e=e+parseInt(t[0])),e},formatDuration(e){let s=this.getSeconds(e);s=s%3600;const h=Math.floor(s/60);return s=s%60,s<10&&(s=`0${s}`),`${h}:${s}`}}},he=["href"];function ve(e,t,s,h,c,a){const _=$,m=g("CirclePlayIcon");return n(),r("div",{class:l(e.$style.item)},[o("a",{class:l(e.$style.link),href:s.video.url,onClick:t[0]||(t[0]=T(i=>a.handleVideo(s.index),["prevent"]))},[o("div",{class:l(e.$style.image)},[s.video.thumb?(n(),u(_,{key:0,loading:"lazy",width:s.video.width,height:s.video.height,sizes:s.video.sizes,alt:s.video.name,src:s.video.thumb},null,8,["width","height","sizes","alt","src"])):v("",!0),s.video.duration?(n(),r("div",{key:1,class:l(e.$style.duration)},p(a.formatDuration(s.video.duration)),3)):v("",!0),y(m,{class:l(e.$style.play)},null,8,["class"])],2),o("h2",{class:l(e.$style.name)},p(s.video.name),3),o("div",{class:l(e.$style.type)},p(s.video.type),3)],10,he)],2)}const ge={$style:pe},w=b(ue,[["render",ve],["__cssModules",ge]]),ye="maxresdefault.jpg",be="640px",ke="768px",fe="1024px",$e="1200px",xe="1400px",Ce="1500px",we="1800px",Ie="2500px",Me="10rem",Ve="_head_426vg_13",Xe="_count_426vg_27",Se="_items_426vg_38",Te={breakpointXsmall:be,breakpointSmall:ke,breakpointMedium:fe,breakpointLarge:$e,breakpointXlarge:xe,breakpointXlarger1:Ce,breakpointXlarger2:we,breakpointXlarger3:Ie,layoutNavWidth:Me,head:Ve,count:Xe,items:Se},Ne={components:{VideosItem:w,Modal:x},props:{videos:{type:Array,required:!0}},data(){return{activeType:"all",activeVideos:this.videos,modalVisible:!1,modalStartAt:0}},computed:{videoCount(){return`${this.activeVideos.length} ${this.activeVideos.length>1?"Videos":"Video"}`},videoTypes(){return this.videos.map(e=>e.type).filter((e,t,s)=>s.indexOf(e)===t)}},created(){this.handleData()},methods:{handleData(){const e=this.videos.map(t=>t.key).join(",");this.videos.forEach(t=>{this.$set(t,"thumb",`${t.key}/${ye}`),this.$set(t,"src",`https://www.youtube.com/embed/${t.key}?rel=0&showinfo=0&autoplay=1`),this.$set(t,"url",`https://youtube.com/watch?v=${t.key}`),this.$set(t,"width",320),this.$set(t,"height",180),this.$set(t,"sizes","xsmall:93vw small:46vw medium:44vw large:30vw xlarge:27vw xlarge1:20vw xlarge3:780")}),M(e).then(t=>{for(let s=0;s<this.videos.length;s++)t.items[s]&&this.$set(this.videos[s],"duration",t.items[s].contentDetails.duration)})},filterVideos(){this.activeVideos=this.videos.filter(e=>this.activeType==="all"?!0:e.type===this.activeType)},openModal(e){this.modalStartAt=e,this.modalVisible=!0},closeModal(){this.modalVisible=!1,this.modalStartAt=0}}},Le={class:"spacing"},Ae=o("option",{value:"all"}," All ",-1),ze=["value"];function Ee(e,t,s,h,c,a){const _=w,m=x;return n(),r("div",Le,[o("div",{class:l(e.$style.head)},[a.videoTypes.length>1?N((n(),r("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=i=>c.activeType=i),onChange:t[1]||(t[1]=(...i)=>a.filterVideos&&a.filterVideos(...i))},[Ae,(n(!0),r(k,null,f(a.videoTypes,i=>(n(),r("option",{key:`video-type-${i}`,value:i},p(i),9,ze))),128))],544)),[[L,c.activeType]]):v("",!0),o("strong",{class:l(e.$style.count)},p(a.videoCount),3)],2),o("div",{class:l(e.$style.items)},[(n(!0),r(k,null,f(c.activeVideos,(i,d)=>(n(),u(_,{key:`video-${i.id}`,video:i,index:d,onOpenModal:a.openModal},null,8,["video","index","onOpenModal"]))),128))],2),c.modalVisible?(n(),u(m,{key:0,data:s.videos,type:"iframe",nav:"","start-at":c.modalStartAt,onClose:a.closeModal},null,8,["data","start-at","onClose"])):v("",!0)])}const Pe={$style:Te},Re=b(Ne,[["render",Ee],["__cssModules",Pe]]);export{Re as _,He as a};
