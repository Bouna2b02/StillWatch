import{_ as r}from"./TheTopNav.ab2d8892.js";import{_ as l}from"./Listing.0f76bac1.js";import{g as a,a as g}from"./tmdbAPI.f1c79019.js";import{_ as h,c as u,b as p,n as _,q as f,o}from"./entry.b94904b0.js";import"./chevron-left.d64a7219.js";import"./nuxt-link.4b690bdb.js";import"./loading-spinner.4dbc908b.js";const T={components:{TheTopNav:r,Listing:l},async asyncData({params:t,error:i}){try{const n=await a("tv",t.id),s=(await g("tv")).find(e=>e.id===parseInt(t.id));if(s)return{items:n,genre:s};i({message:"Page not found"})}catch{i({statusCode:504,message:"Data not available"})}},data(){return{loading:!1}},head(){return{title:this.metaTitle,meta:[{hid:"og:title",property:"og:title",content:this.metaTitle},{hid:"og:url",property:"og:url",content:`${{}.FRONTEND_URL}${this.$route.path}`}],bodyAttrs:{class:"topnav-active"}}},computed:{metaTitle(){return this.title},title(){return this.genre?`TV Genre: ${this.genre.name}`:"TV Genre"},listingShown(){var t;return(t=this.items)==null?void 0:t.results.length}},methods:{loadMore(){this.loading=!0,a("tv",this.$route.params.id,this.items.page+1).then(t=>{this.items.results=this.items.results.concat(t.results),this.items.page=t.page,this.loading=!1}).catch(()=>{this.loading=!1})}}},v={class:"main"};function y(t,i,n,c,s,e){const m=r,d=l;return o(),u("main",v,[p(m,{title:e.metaTitle},null,8,["title"]),e.listingShown?(o(),_(d,{key:0,title:e.title,items:t.items,loading:s.loading,onLoadMore:e.loadMore},null,8,["title","items","loading","onLoadMore"])):f("",!0)])}const G=h(T,[["render",y]]);export{G as default};
