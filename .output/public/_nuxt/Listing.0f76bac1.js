import{_ as m}from"./nuxt-link.4b690bdb.js";import{_ as l}from"./tmdbAPI.f1c79019.js";import{_ as u,z as h,s as f,o as t,c as s,t as g,q as o,n as i,w,a as r,F as p,v}from"./entry.b94904b0.js";import{L as y}from"./loading-spinner.4dbc908b.js";const k={components:{Card:l,LoadingSpinnerIcon:y},props:{title:{type:String,required:!1,default:""},viewAllUrl:{type:Object,required:!1,default(){return null}},items:{type:Object,required:!0},show:{type:Number,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1}},created(){this.show&&(this.items.results=this.items.results.splice(0,this.show),this.items.total_pages=1,this.items.total_results=this.show)},mounted(){window.addEventListener("scroll",this.getScrollPosition)},beforeDestroy(){window.removeEventListener("scroll",this.getScrollPosition)},methods:{getScrollPosition:h(function(){this.items.page<this.items.total_pages?window.innerHeight+window.pageYOffset>=document.body.offsetHeight-600&&!this.loading&&this.loadMore():window.removeEventListener("scroll",this.getScrollPosition)},50),loadMore(){this.$emit("loadMore")}}},x={class:"listing"},S={key:0,class:"listing__head"},b={key:0,class:"listing__title"},L=r("strong",null,"Explore All",-1),q={class:"listing__items"},A={key:1,class:"listing__nav"};function B(a,C,e,E,O,P){const c=m,_=l,d=f("LoadingSpinnerIcon");return t(),s("div",x,[e.title||e.viewAllUrl?(t(),s("div",S,[e.title?(t(),s("h2",b,g(e.title),1)):o("",!0),e.viewAllUrl?(t(),i(c,{key:1,to:e.viewAllUrl,class:"listing__explore"},{default:w(()=>[L]),_:1},8,["to"])):o("",!0)])):o("",!0),r("div",q,[(t(!0),s(p,null,v(e.items.results,n=>(t(),i(_,{key:`card-${n.id}`,item:n},null,8,["item"]))),128))]),e.items.page<e.items.total_pages?(t(),s("div",A,[e.loading?(t(),i(d,{key:0})):o("",!0)])):o("",!0)])}const j=u(k,[["render",B]]);export{j as _};
